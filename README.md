# 小智 WebUI (Node.js 重構版)

> 本項目基於 [xiaozhi-web-client](https://github.com/TOM88812/xiaozhi-web-client) 與 [xiaozhi-esp32](https://github.com/78/xiaozhi-esp32) 進行開發。
> 特別感謝原作者的開源貢獻！另外感謝 [涂丫丫](http://xhslink.com/a/ZWjAcoOzvzq9) 提供的可愛頭像。

## 專案簡介

這是一個讓你在電腦或手機網頁上，就能體驗「小智 AI」語音對話的專案。
我們移除了複雜的 Python 設定，將後端完全改寫為 **Node.js** 版本，讓安裝變得非常簡單，就像安裝普通軟體一樣。

**主要功能：**
*   **語音通話**：就像打電話給朋友一樣跟 AI 聊天（支援打斷、自動靜音）。
*   **超簡單安裝**：不用懂程式碼，跟著步驟做就能跑起來。
*   **自動設定**：不需要手動查 MAC 地址，程式會自動幫你處理好。
*   **手機也能用**：電腦開好後，手機連上同一個 Wi-Fi 就能用網頁版控制。

---

## 快速安裝 (小學以上適用版)

請依照您的電腦系統，跟著以下步驟操作：

### 1. 準備工具
您需要先安裝 **Node.js** 這個執行環境。
*   前往 [Node.js 官網](https://nodejs.org/zh-tw/) 下載 **LTS (長期維護版)** 並安裝。
*   安裝完後，打開電腦的「終端機 (Terminal)」或「命令提示字元 (cmd)」，輸入 `node -v`，如果有出現版本號 (例如 v20.x.x) 代表成功。

### 2. 下載本專案
點擊本頁面右上角的 **Codes** -> **Download ZIP**，下載後解壓縮到桌面。

### 3. 一鍵安裝與啟動
我們提供了簡單的指令來自動安裝所有需要的東西。

打開終端機 (或 cmd)，進入剛解壓縮的資料夾 (例如 `cd Desktop/xiaozhi-webui`)，然後依序輸入：

```bash
# 1. 安裝網頁介面需要的零件
npm install

# 2. 安裝後端服務需要的零件
cd service
npm install
cd ..

# 3. 啟動！
npm run dev
```

啟動成功後，瀏覽器會自動打開，你就會看到小智的聊天視窗囉！

---

## 怎麼使用？

1.  **第一次設定**：
    *   網頁打開後，點選左上角的「設定」圖示。
    *   確認「後端地址」欄位是 `http://localhost:8080` (通常會自動填好)。
    *   看到 Device ID 出現一串亂碼，代表連線成功了！

2.  **開始聊天**：
    *   **打字**：在下方輸入框打「你好」，按 Enter 發送。
    *   **講話**：點擊右下角的「電話」圖示，允許麥克風權限。
    *   對著麥克風說「現在幾點了？」，小智就會回答你囉！

3.  **手機連線**：
    *   確保手機跟電腦連在同一個 Wi-Fi。
    *   在手機瀏覽器輸入電腦的 IP 地址 (例如 `http://192.168.1.100:5173`) 即可使用。

---

## 常見問題 (Q&A)

**Q: 為什麼講話沒聲音？**
A: 請檢查電腦音量是否開啟。我們已內建「自動增益控制」，如果還是太小聲，請盡量靠近麥克風。

**Q: 一直出現「連線斷開」的紅字？**
A: 不用擔心，這是小智為了省電暫時休息。我們已經優化了系統，它會自動安靜地重新連線，你不需要做任何事。

**Q: 我需要改 `.env` 檔案嗎？**
A: 一般使用不需要。程式會自動生成虛擬的身分 ID。只有當您有特定的小智硬體 Token 時才需要手動設定。

---

## 進階開發者資訊

如果您是開發者，這是技術細節：
*   **前端**：Vue 3 + TypeScript + Vite + Element Plus
*   **後端**：Node.js + Fastify + WebSocket (取代原 Python FastAPI)
*   **音訊處理**：Web Audio API (前端) + Opus Codec (後端)
*   **目錄結構**：
    *   `src/`: 前端網頁原始碼
    *   `service/`: Node.js 後端服務原始碼

歡迎提交 PR 或 Issue 一起改進！

License: MIT
